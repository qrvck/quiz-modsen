if grep -qE "^(Merge|Revert|Initial commit)" "$1"; then
    echo ""
    echo "✅ Automatic commit detected, skipping validation"
    echo ""
    exit 0
fi

commit_regex='^(feat|fix|chore|docs|test|style|refactor|perf|build|ci|revert)(\(.+\))?: .{1,50}'

if ! grep -qE "$commit_regex" "$1"; then
    echo ""
    echo "❌ Invalid commit message format!"
    echo ""
    echo "Type(scope?): description (max 50 chars)"
    echo "Types: feat, fix, chore, docs, test, style, refactor, perf, build, ci, revert"
    echo ""
    echo "Examples:"
    echo ""
    echo "  feat: add new header component"
    echo "  fix(auth): resolve login error"
    echo "  docs: update README file"
    echo ""
    exit 1
fi
